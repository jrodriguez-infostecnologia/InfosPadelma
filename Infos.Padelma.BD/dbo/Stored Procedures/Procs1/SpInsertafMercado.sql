CREATE PROCEDURE SpInsertafMercado @empresa int,@activo bit,@codigo varchar(50),@descripcion varchar(550),@tipoMercado varchar(50),@Retorno int output  AS begin tran fMercado insert fMercado( empresa,activo,codigo,descripcion,tipoMercado ) select @empresa,@activo,@codigo,@descripcion,@tipoMercado if (@@error = 0 ) begin set @Retorno = 0 commit tran fMercado end else begin set @Retorno = 1 rollback tran fMercado end