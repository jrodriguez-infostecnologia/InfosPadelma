
CREATE PROCEDURE [dbo].[SpInsertaaNovedadLotePrecio] @empresa int,@registro int,@precioDestajo money,@precioContratistas money,@precioOtros money,@fechaRegistro datetime,@modificado bit,@porcentaje decimal(18,3),@año varchar(50),@novedad varchar(50),@usuario varchar(50),@baseSueldo bit,@Retorno int output  AS begin tran aNovedadLotePrecio insert aNovedadLotePrecio( empresa,registro,precioDestajo,precioContratistas,precioOtros,fechaRegistro,modificado,porcentaje,año,novedad,usuario, baseSueldo ) select @empresa,@registro,@precioDestajo,@precioContratistas,@precioOtros,@fechaRegistro,@modificado,@porcentaje,@año,@novedad,@usuario,@baseSueldo if (@@error = 0 ) begin set @Retorno = 0 commit tran aNovedadLotePrecio end else begin set @Retorno = 1 rollback tran aNovedadLotePrecio end