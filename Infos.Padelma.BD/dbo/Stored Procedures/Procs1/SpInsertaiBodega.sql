CREATE PROCEDURE SpInsertaiBodega @empresa int,@proveedor int,@activo bit,@validaCcosto bit,@validaProveedor bit,@validaCuenta bit,@produccion bit,@mExistencia bit,@codigo varchar(5),@descripcion varchar(550),@desCorta varchar(50),@cCosto varchar(50),@Cuenta varchar(16),@Retorno int output  AS begin tran iBodega insert iBodega( empresa,proveedor,activo,validaCcosto,validaProveedor,validaCuenta,produccion,mExistencia,codigo,descripcion,desCorta,cCosto,Cuenta ) select @empresa,@proveedor,@activo,@validaCcosto,@validaProveedor,@validaCuenta,@produccion,@mExistencia,@codigo,@descripcion,@desCorta,@cCosto,@Cuenta if (@@error = 0 ) begin set @Retorno = 0 commit tran iBodega end else begin set @Retorno = 1 rollback tran iBodega end