CREATE PROCEDURE SpActualizapCalibracionTanque @empresa int,@altura int,@activo bit,@volumen decimal,@movimiento varchar(50),@tipo varchar(2),@Retorno int output  AS begin tran pCalibracionTanque update pCalibracionTanque set activo = @activo,volumen = @volumen where altura = @altura and empresa = @empresa and movimiento = @movimiento and tipo = @tipo if (@@error = 0 ) begin set @Retorno = 0 commit tran pCalibracionTanque end else begin set @Retorno = 1 rollback tran pCalibracionTanque end