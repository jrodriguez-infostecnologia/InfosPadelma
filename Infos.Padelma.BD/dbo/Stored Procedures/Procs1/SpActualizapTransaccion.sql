CREATE PROCEDURE SpActualizapTransaccion @fecha date,@empresa int,@año int,@mes int,@producto int,@fechaRegistro datetime,@fechaAnulado datetime,@anulado bit,@tipo varchar(50),@numero varchar(50),@usuario varchar(50),@usuarioAnulado varchar(50),@Observacion varchar(5500),@Retorno int output  AS begin tran pTransaccion update pTransaccion set fecha = @fecha,año = @año,mes = @mes,producto = @producto,fechaRegistro = @fechaRegistro,fechaAnulado = @fechaAnulado,anulado = @anulado,usuario = @usuario,usuarioAnulado = @usuarioAnulado,Observacion = @Observacion where empresa = @empresa and numero = @numero and tipo = @tipo if (@@error = 0 ) begin set @Retorno = 0 commit tran pTransaccion end else begin set @Retorno = 1 rollback tran pTransaccion end