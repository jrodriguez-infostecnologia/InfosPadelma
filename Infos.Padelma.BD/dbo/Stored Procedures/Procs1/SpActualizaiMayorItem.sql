CREATE PROCEDURE SpActualizaiMayorItem @empresa int,@activo bit,@codigo varchar(50),@planes varchar(5),@descripcion varchar(950),@observacion varchar(1550),@Retorno int output  AS begin tran iMayorItem update iMayorItem set activo = @activo,planes = @planes,descripcion = @descripcion,observacion = @observacion where codigo = @codigo and empresa = @empresa if (@@error = 0 ) begin set @Retorno = 0 commit tran iMayorItem end else begin set @Retorno = 1 rollback tran iMayorItem end