CREATE PROCEDURE SpActualizaaLaborLotePrecio @empresa int,@precio money,@labor varchar(50),@finca varchar(50),@lote varchar(50),@sesion char(10),@Retorno int output  AS begin tran aLaborLotePrecio update aLaborLotePrecio set precio = @precio,sesion = @sesion where empresa = @empresa and labor = @labor and finca = @finca and lote = @lote if (@@error = 0 ) begin set @Retorno = 0 commit tran aLaborLotePrecio end else begin set @Retorno = 1 rollback tran aLaborLotePrecio end