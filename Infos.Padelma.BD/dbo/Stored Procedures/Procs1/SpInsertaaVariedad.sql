CREATE PROCEDURE SpInsertaaVariedad @empresa int,@activo bit,@descripcion varchar(550),@procedencia varchar(550),@codigo char(5),@Retorno int output  AS begin tran aVariedad insert aVariedad( empresa,activo,descripcion,procedencia,codigo ) select @empresa,@activo,@descripcion,@procedencia,@codigo if (@@error = 0 ) begin set @Retorno = 0 commit tran aVariedad end else begin set @Retorno = 1 rollback tran aVariedad end