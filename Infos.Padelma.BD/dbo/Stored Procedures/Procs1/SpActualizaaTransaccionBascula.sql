CREATE PROCEDURE SpActualizaaTransaccionBascula @empresa int,@empresaExtractora int,@terceroExtractrora int,@pesoBruto int,@pesoTara int,@pesoNeto int,@sacos int,@racimos int,@fecha datetime,@interno bit,@tipo varchar(50),@numero varchar(50),@tiquete varchar(50),@codigoConductor varchar(50),@nombreConductor varchar(550),@vehiculo varchar(50),@remolque varchar(50),@Retorno int output  AS begin tran aTransaccionBascula update aTransaccionBascula set empresaExtractora = @empresaExtractora,pesoBruto = @pesoBruto,pesoTara = @pesoTara,pesoNeto = @pesoNeto,sacos = @sacos,racimos = @racimos,fecha = @fecha,interno = @interno,tiquete = @tiquete,codigoConductor = @codigoConductor,nombreConductor = @nombreConductor,vehiculo = @vehiculo,remolque = @remolque where empresa = @empresa and numero = @numero and terceroExtractrora = @terceroExtractrora and tipo = @tipo if (@@error = 0 ) begin set @Retorno = 0 commit tran aTransaccionBascula end else begin set @Retorno = 1 rollback tran aTransaccionBascula end