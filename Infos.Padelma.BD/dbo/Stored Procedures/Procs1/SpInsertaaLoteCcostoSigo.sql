create PROCEDURE [dbo].[SpInsertaaLoteCcostoSigo] @empresa int,@lote varchar(50),@mCcostoSigo varchar(50),@aCcostoSigo varchar(50),@Retorno int output  AS begin tran aLoteCcostoSigo insert aLoteCcostoSigo( empresa,lote,mCcostoSigo,aCcostoSigo ) select @empresa,@lote,@mCcostoSigo,@aCcostoSigo if (@@error = 0 ) begin set @Retorno = 0 commit tran aLoteCcostoSigo end else begin set @Retorno = 1 rollback tran aLoteCcostoSigo end