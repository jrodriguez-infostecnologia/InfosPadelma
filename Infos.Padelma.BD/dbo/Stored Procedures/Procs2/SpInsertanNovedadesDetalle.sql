CREATE PROCEDURE [dbo].[SpInsertanNovedadesDetalle] @empresa int,@registro int,@cantidad int,@añoInicial int,@añoFinal int,@periodoInicial int,@periodoFinal int,@frecuencia int,@ultimoPeriodoLiquidado int,@ultimoPeriodoFrecuencia int,@valor money,@liquidada bit,@anulado bit,@tipo varchar(50),@numero varchar(50),@concepto varchar(50),@empleado varchar(50),@detalle varchar(250),@Retorno int output  AS begin tran nNovedadesDetalle insert nNovedadesDetalle( empresa,registro,cantidad,añoInicial,añoFinal,periodoInicial,periodoFinal,frecuencia,ultimoPeriodoLiquidado,ultimoPeriodoFrecuencia,valor,liquidada,anulado,tipo,numero,concepto,empleado,detalle ) select @empresa,@registro,@cantidad,@añoInicial,@añoFinal,@periodoInicial,@periodoFinal,@frecuencia,@ultimoPeriodoLiquidado,@ultimoPeriodoFrecuencia,@valor,@liquidada,@anulado,@tipo,@numero,@concepto,@empleado,@detalle if (@@error = 0 ) begin set @Retorno = 0 commit tran nNovedadesDetalle end else begin set @Retorno = 1 rollback tran nNovedadesDetalle end