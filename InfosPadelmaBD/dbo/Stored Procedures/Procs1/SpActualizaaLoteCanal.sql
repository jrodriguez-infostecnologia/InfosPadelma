CREATE PROCEDURE SpActualizaaLoteCanal @empresa int,@registro int,@metros decimal,@lote nchar,@tipoCanal nchar,@Retorno int output  AS begin tran aLoteCanal update aLoteCanal set metros = @metros,tipoCanal = @tipoCanal where empresa = @empresa and lote = @lote and registro = @registro if (@@error = 0 ) begin set @Retorno = 0 commit tran aLoteCanal end else begin set @Retorno = 1 rollback tran aLoteCanal end