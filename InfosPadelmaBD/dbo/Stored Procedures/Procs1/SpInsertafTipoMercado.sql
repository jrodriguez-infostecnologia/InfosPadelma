CREATE PROCEDURE SpInsertafTipoMercado @empresa int,@activo bit,@codigo varchar(50),@descripcion varchar(550),@Retorno int output  AS begin tran fTipoMercado insert fTipoMercado( empresa,activo,codigo,descripcion ) select @empresa,@activo,@codigo,@descripcion if (@@error = 0 ) begin set @Retorno = 0 commit tran fTipoMercado end else begin set @Retorno = 1 rollback tran fTipoMercado end