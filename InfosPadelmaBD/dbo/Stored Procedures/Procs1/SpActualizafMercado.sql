CREATE PROCEDURE SpActualizafMercado @empresa int,@activo bit,@codigo varchar(50),@descripcion varchar(550),@tipoMercado varchar(50),@Retorno int output  AS begin tran fMercado update fMercado set activo = @activo,descripcion = @descripcion,tipoMercado = @tipoMercado where codigo = @codigo and empresa = @empresa if (@@error = 0 ) begin set @Retorno = 0 commit tran fMercado end else begin set @Retorno = 1 rollback tran fMercado end