create PROCEDURE [dbo].[SpActualizaaTransaccionItem] @fecha date,@fechaFinal date,@empresa int,@registro int,@año int,@mes int,@cantidad float,@saldo float,@mBulto float,@pBulto float,@tipo varchar(50),@numero varchar(50),@item varchar(50),@uMedida varchar(50),@novedad varchar(50),@Retorno int output  AS begin tran aTransaccionItem update aTransaccionItem set fecha = @fecha,fechaFinal = @fechaFinal,año = @año,mes = @mes,cantidad = @cantidad,saldo = @saldo,mBulto = @mBulto,pBulto = @pBulto,item = @item,uMedida = @uMedida,novedad = @novedad where empresa = @empresa and numero = @numero and registro = @registro and tipo = @tipo if (@@error = 0 ) begin set @Retorno = 0 commit tran aTransaccionItem end else begin set @Retorno = 1 rollback tran aTransaccionItem end