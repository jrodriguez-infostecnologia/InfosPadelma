CREATE PROCEDURE SpInsertagUnidadMedida @empresa int,@activo bit,@codigo varchar(50),@descripcion varchar(50),@desCorta char(3),@Retorno int output  AS begin tran gUnidadMedida insert gUnidadMedida( empresa,activo,codigo,descripcion,desCorta ) select @empresa,@activo,@codigo,@descripcion,@desCorta if (@@error = 0 ) begin set @Retorno = 0 commit tran gUnidadMedida end else begin set @Retorno = 1 rollback tran gUnidadMedida end