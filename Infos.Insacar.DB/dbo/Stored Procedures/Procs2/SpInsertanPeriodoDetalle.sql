CREATE PROCEDURE [dbo].[SpInsertanPeriodoDetalle] @fechaInicial date,@fechaFinal date,@fechaCorte date,@empresa int,@año int,@mes int,@noPeriodo int,@fechaPago datetime,@fechaRegistro datetime,@cerrado bit,@usuario varchar(50),@tipoNomina varchar(50),@diasNomina int, @agronomico bit,@Retorno int output  AS begin tran nPeriodoDetalle insert nPeriodoDetalle( fechaInicial,fechaFinal,fechaCorte,empresa,año,mes,noPeriodo,fechaPago,fechaRegistro,cerrado,usuario,tipoNomina,diasNomina,agronomico ) select @fechaInicial,@fechaFinal,@fechaCorte,@empresa,@año,@mes,@noPeriodo,@fechaPago,@fechaRegistro,@cerrado,@usuario,@tipoNomina,@diasnomina,@agronomico if (@@error = 0 ) begin set @Retorno = 0 commit tran nPeriodoDetalle end else begin set @Retorno = 1 rollback tran nPeriodoDetalle end