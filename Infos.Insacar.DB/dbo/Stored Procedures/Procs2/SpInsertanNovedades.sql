CREATE PROCEDURE [dbo].[SpInsertanNovedades] @fecha date,@empresa int,@fechaAnulado datetime,@fechaRegistro datetime,@anulado bit,@tipo varchar(50),@numero varchar(50),@remision varchar(50),@ccosto varchar(50),@empleado varchar(50),@concepto varchar(50),@observacion varchar(2000),@usuarioAnulado varchar(50),@usuarioRegistro varchar(50),@Retorno int output  AS begin tran nNovedades insert nNovedades( fecha,empresa,fechaAnulado,fechaRegistro,anulado,tipo,numero,remision,ccosto,empleado,concepto,observacion,usuarioAnulado,usuarioRegistro ) select @fecha,@empresa,@fechaAnulado,@fechaRegistro,@anulado,@tipo,@numero,@remision,@ccosto,@empleado,@concepto,@observacion,@usuarioAnulado,@usuarioRegistro if (@@error = 0 ) begin set @Retorno = 0 commit tran nNovedades end else begin set @Retorno = 1 rollback tran nNovedades end