
CREATE PROCEDURE [dbo].[SpActualizaaNovedadLotePrecio] @empresa int,@registro int,@precioDestajo money,@precioContratistas money,@precioOtros money,@fechaRegistro datetime,@modificado bit,@porcentaje decimal(18,3),@año varchar(50),@novedad varchar(50),@usuario varchar(50),@baseSueldo bit,@Retorno int output  AS begin tran aNovedadLotePrecio update aNovedadLotePrecio set precioDestajo = @precioDestajo,precioContratistas = @precioContratistas,precioOtros = @precioOtros,fechaRegistro = @fechaRegistro,modificado = @modificado,porcentaje = @porcentaje,usuario = @usuario, baseSueldo=@baseSueldo where año = @año and empresa = @empresa and novedad = @novedad and registro = @registro if (@@error = 0 ) begin set @Retorno = 0 commit tran aNovedadLotePrecio end else begin set @Retorno = 1 rollback tran aNovedadLotePrecio end