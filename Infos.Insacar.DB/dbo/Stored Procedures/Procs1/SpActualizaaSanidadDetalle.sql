CREATE PROCEDURE [dbo].[SpActualizaaSanidadDetalle] @fecha date,@empresa int,@registro int,@linea int,@palma int,@item int,@fechaEjecutado datetime,@usuarioEjecturado datetime,@ejecutado bit,@cantidad decimal,@tipo varchar(50),@numero varchar(50),@lote varchar(50),@uMedida varchar(50),@detalle varchar(550),@referenciaDetalle nchar,@Retorno int output  AS begin tran aSanidadDetalle update aSanidadDetalle set fecha = @fecha,linea = @linea,palma = @palma,item = @item,fechaEjecutado = @fechaEjecutado,usuarioEjecturado = @usuarioEjecturado,ejecutado = @ejecutado,cantidad = @cantidad,lote = @lote,uMedida = @uMedida,detalle = @detalle,referenciaDetalle = @referenciaDetalle where empresa = @empresa and numero = @numero and registro = @registro and tipo = @tipo if (@@error = 0 ) begin set @Retorno = 0 commit tran aSanidadDetalle end else begin set @Retorno = 1 rollback tran aSanidadDetalle end