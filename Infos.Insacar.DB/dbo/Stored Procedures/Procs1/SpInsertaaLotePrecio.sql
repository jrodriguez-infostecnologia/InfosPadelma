CREATE PROCEDURE SpInsertaaLotePrecio @empresa int,@precio money,@labor varchar(50),@finca varchar(50),@lote varchar(50),@sesion char(10),@Retorno int output  AS begin tran aLotePrecio insert aLotePrecio( empresa,precio,labor,finca,lote,sesion ) select @empresa,@precio,@labor,@finca,@lote,@sesion if (@@error = 0 ) begin set @Retorno = 0 commit tran aLotePrecio end else begin set @Retorno = 1 rollback tran aLotePrecio end