CREATE PROCEDURE [dbo].[SpActualizaaTransaccionLote] @empresa int,@año int,@mes int,@jornales int,@recimos int,@valor money,@valorTotal money,@ejecutado bit,@cantidad decimal,@saldo decimal,@tipo varchar(50),@numero varchar(50),@cuadrilla varchar(50),@lote char(10),@Retorno int output  AS begin tran aTransaccionLote update aTransaccionLote set año = @año,mes = @mes,jornales = @jornales,recimos = @recimos,valor = @valor,valorTotal = @valorTotal,ejecutado = @ejecutado,cantidad = @cantidad,saldo = @saldo,cuadrilla = @cuadrilla where empresa = @empresa and tipo = @tipo and numero = @numero and lote = @lote if (@@error = 0 ) begin set @Retorno = 0 commit tran aTransaccionLote end else begin set @Retorno = 1 rollback tran aTransaccionLote end