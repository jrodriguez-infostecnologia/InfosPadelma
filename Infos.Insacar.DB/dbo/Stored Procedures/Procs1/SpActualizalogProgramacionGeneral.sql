CREATE PROCEDURE SpActualizalogProgramacionGeneral @empresa int,@año int,@mes int,@fechaRegistro datetime,@cantidad float,@programacion varchar(50),@producto varchar(50),@mercado varchar(50),@usuario varchar(50),@Retorno int output  AS begin tran logProgramacionGeneral update logProgramacionGeneral set año = @año,mes = @mes,fechaRegistro = @fechaRegistro,cantidad = @cantidad,producto = @producto,mercado = @mercado,usuario = @usuario where empresa = @empresa and programacion = @programacion if (@@error = 0 ) begin set @Retorno = 0 commit tran logProgramacionGeneral end else begin set @Retorno = 1 rollback tran logProgramacionGeneral end