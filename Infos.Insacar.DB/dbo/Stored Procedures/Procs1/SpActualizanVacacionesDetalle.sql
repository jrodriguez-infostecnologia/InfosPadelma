create PROCEDURE [dbo].[SpActualizanVacacionesDetalle] @periodoInicial date,@periodoFinal date,@empresa int,@empleado int,@registro int,@signo int,@noDias int,@valorUnitario money,@valorTotal money,@saldo money,@baseSeguridadSocial bit,@baseEmbargos bit,@cantidad decimal,@porcentaje decimal,@concepto varchar(50),@entidad varchar(50),@Retorno int output  AS begin tran nVacacionesDetalle update nVacacionesDetalle set signo = @signo,noDias = @noDias,valorUnitario = @valorUnitario,valorTotal = @valorTotal,saldo = @saldo,baseSeguridadSocial = @baseSeguridadSocial,baseEmbargos = @baseEmbargos,cantidad = @cantidad,porcentaje = @porcentaje,concepto = @concepto,entidad = @entidad where empleado = @empleado and empresa = @empresa and periodoFinal = @periodoFinal and periodoInicial = @periodoInicial and registro = @registro if (@@error = 0 ) begin set @Retorno = 0 commit tran nVacacionesDetalle end else begin set @Retorno = 1 rollback tran nVacacionesDetalle end