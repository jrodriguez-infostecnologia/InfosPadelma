CREATE PROCEDURE [dbo].[SpActualizanProrroga] @fechaInicial date,@fechaFinal date,@fechaFinalAnterior date,@fechaRetiro date,@empresa int,@id int,@contrato int,@tercero int,@dias int,@fechaRegistro datetime,@retirado bit,@tipo varchar(1),@observacion varchar(5550),@usuario varchar(50),@motivoRetiro varchar(50),@Retorno int output  AS begin tran nProrroga update nProrroga set fechaInicial = @fechaInicial,fechaFinal = @fechaFinal,fechaFinalAnterior = @fechaFinalAnterior,fechaRetiro = @fechaRetiro,dias = @dias,fechaRegistro = @fechaRegistro,retirado = @retirado,observacion = @observacion,usuario = @usuario,motivoRetiro = @motivoRetiro where empresa = @empresa and id = @id and contrato = @contrato and tipo = @tipo and tercero = @tercero if (@@error = 0 ) begin set @Retorno = 0 commit tran nProrroga end else begin set @Retorno = 1 rollback tran nProrroga end