CREATE PROCEDURE SpActualizapDensidad @empresa int,@temperatura int,@densidad float,@activo bit,@item varchar(50),@Retorno int output  AS begin tran pDensidad update pDensidad set densidad = @densidad,activo = @activo where empresa = @empresa and item = @item and temperatura = @temperatura if (@@error = 0 ) begin set @Retorno = 0 commit tran pDensidad end else begin set @Retorno = 1 rollback tran pDensidad end