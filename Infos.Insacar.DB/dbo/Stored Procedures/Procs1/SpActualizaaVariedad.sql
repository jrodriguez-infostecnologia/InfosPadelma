CREATE PROCEDURE SpActualizaaVariedad @empresa int,@activo bit,@descripcion varchar(550),@procedencia varchar(550),@codigo char(5),@Retorno int output  AS begin tran aVariedad update aVariedad set activo = @activo,descripcion = @descripcion,procedencia = @procedencia where codigo = @codigo and empresa = @empresa if (@@error = 0 ) begin set @Retorno = 0 commit tran aVariedad end else begin set @Retorno = 1 rollback tran aVariedad end