CREATE PROCEDURE SpActualizaiDestino @empresa int,@nivel int,@nivelPadre int,@activo bit,@codigo varchar(50),@padre varchar(50),@descripcion varchar(50),@ctaInversion varchar(16),@ctaGasto varchar(16),@Retorno int output  AS begin tran iDestino update iDestino set nivelPadre = @nivelPadre,activo = @activo,padre = @padre,descripcion = @descripcion,ctaInversion = @ctaInversion,ctaGasto = @ctaGasto where codigo = @codigo and empresa = @empresa and nivel = @nivel if (@@error = 0 ) begin set @Retorno = 0 commit tran iDestino end else begin set @Retorno = 1 rollback tran iDestino end